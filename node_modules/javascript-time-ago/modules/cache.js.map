{"version":3,"sources":["../source/cache.js"],"names":["Cache","cache","keys","key","value","pop","last_key"],"mappings":";;;;;AAAA;IACqBA,K;;;;OAEpBC,K,GAAQ,E;;;;;wBAGR;AACC,OAAIA,QAAQ,KAAKA,KAAjB;;AADD,qCADOC,IACP;AADOA,QACP;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAEC,sCAAkBA,IAAlB,4GACA;AAAA,SADWC,GACX;;AACC,SAAI,QAAOF,KAAP,yCAAOA,KAAP,OAAiB,QAArB,EACA;AACC;AACA;AACDA,aAAQA,MAAME,GAAN,CAAR;AACA;AATF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWC,UAAOF,KAAP;AACA;;;wBAGD;AAAA,sCADOC,IACP;AADOA,QACP;AAAA;;AACC,OAAME,QAAQF,KAAKG,GAAL,EAAd;AACA,OAAMC,WAAWJ,KAAKG,GAAL,EAAjB;;AAEA,OAAIJ,QAAQ,KAAKA,KAAjB;AAJD;AAAA;AAAA;;AAAA;AAKC,uCAAkBC,IAAlB,iHACA;AAAA,SADWC,GACX;;AACC,SAAI,QAAOF,MAAME,GAAN,CAAP,MAAsB,QAA1B,EACA;AACCF,YAAME,GAAN,IAAa,EAAb;AACA;AACDF,aAAQA,MAAME,GAAN,CAAR;AACA;AAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcC,UAAOF,MAAMK,QAAN,IAAkBF,KAAzB;AACA;;;;;;eAnCmBJ,K","file":"cache.js","sourcesContent":["// A basic in-memory cache.\r\nexport default class Cache\r\n{\r\n\tcache = {}\r\n\r\n\tget(...keys)\r\n\t{\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys)\r\n\t\t{\r\n\t\t\tif (typeof cache !== 'object')\r\n\t\t\t{\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\r\n\t\treturn cache\r\n\t}\r\n\r\n\tput(...keys)\r\n\t{\r\n\t\tconst value = keys.pop()\r\n\t\tconst last_key = keys.pop()\r\n\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys)\r\n\t\t{\r\n\t\t\tif (typeof cache[key] !== 'object')\r\n\t\t\t{\r\n\t\t\t\tcache[key] = {}\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\r\n\t\treturn cache[last_key] = value\r\n\t}\r\n}"]}